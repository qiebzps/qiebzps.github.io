---
layout : post
title : "Vim正则表达式替换中括号中的内容"
date : 2019-01-09 17:34:00 +0800
tags: vim 正则表达式
---
平时使用蒙哥阅读器和anki这两个软件学英语，在使用蒙哥阅读器时候导出单词本到anki中时导出的文件格式并不是自己想要的，如下：
```html
contrive [contrive.mp3]	<html>...</html>
good [good.mp3]	<html>...</html>
```
我需要的格式是：
```html
contrive 	<html>...</html>
good 	<html>...</html>
```
需要去掉```[*]```，用vim的substitute命令替换：
```vim
:[range]s[ubstitute]/{pattern}/{string}/[flags]
```
* [range]指定作用范围
* {pattern}为想要替换的内容
* {string}为替换后的内容
* [flags]标志位用来调整substitute命令的行为（这次用不到，就不说了）

思路如下：
1.  因为导出的文本文件是多行的，每一行都需要替换，所以作用范围设置为全局匹配
	```vim
	:%s//
	```
2.  匹配中括号```\[\]```
	```vim
	:%s/\[\]/
	```
3.  匹配```.mp3```
	```vim
	:%s/\[.mp3\]/
	```
4.  匹配其中的字符串```[a-zA-Z]{*}```，其中```[a-zA-Z]```代表英文字母，```{*}```代表匹配任意数量的字符，```[a-zA-Z]{*}```也就是匹配任意数量的英文字母的意思
	```vim
	:%s/\[a-zA-Z]{*}[.mp3\]/
	```
